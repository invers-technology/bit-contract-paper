\documentclass[final,10pt]{elsarticle}

% --- Packages (minimal) ---

\usepackage{amsmath,amssymb}
\usepackage{graphicx}
\usepackage{booktabs}
\usepackage{url}
\usepackage[hidelinks]{hyperref}
\usepackage{bookmark}
% DEBUG: tighten horizontal margins for layout check; adjust/remove later.
% --- Japanese support (pdfLaTeX) ---
\usepackage{CJKutf8}
% DEBUG: reduce top margin for layout check; adjust/remove later.
% DEBUG: set A3 paper size for PDF output; adjust/remove later.
\usepackage[a3paper,left=20mm,right=20mm,top=15mm]{geometry}
\AtBeginDocument{\begin{CJK}{UTF8}{min}}
\AtEndDocument{\end{CJK}}

% --- Case Study macros ---
\newcommand{\cid}{c_{\mathrm{id}}}
\newcommand{\stag}{\mathsf{stateTag}}
\newcommand{\Buyer}{A}
\newcommand{\Seller}{B}
\newcommand{\Oper}{C}
\newcommand{\sigA}{\sigma_{\Buyer}}
\newcommand{\sigB}{\sigma_{\Seller}}
\newcommand{\sigC}{\sigma_{\Oper}}
\newcommand{\after}{\operatorname{after}}
\newcommand{\before}{\operatorname{before}}
\newcommand{\Szero}{\mathrm{S0}}
\newcommand{\SzD}{\mathrm{S0D}}
\newcommand{\SzX}{\mathrm{S0X}}
\newcommand{\Sone}{\mathrm{S1}}
\newcommand{\Stwo}{\mathrm{S2}}
\newcommand{\UTXO}{\mathrm{UTXO}}
\newcommand{\LUTXO}{\UTXO^{\star}}
\newcommand{\uA}{\UTXO_{\Buyer}}
\newcommand{\uB}{\UTXO_{\Seller}}
\newcommand{\uC}{\UTXO_{\Oper}}
\newcommand{\Lu}[1]{\LUTXO(\cid,\stag=#1)}
\newcommand{\pmarg}[2]{#1(1-#2)}
\newcommand{\pfee}[2]{#1\cdot #2}
\newcommand{\BuyerLock}{\mathrm{BuyerLock}}
\newcommand{\SellerDeliver}{\mathrm{SellerDeliver}}
\newcommand{\BuyerConfirm}{\mathrm{BuyerConfirm}}
\newcommand{\BuyerDispute}{\mathrm{BuyerDispute}}
\newcommand{\BuyerCancel}{\mathrm{BuyerCancel}}
\newcommand{\SellerAcceptCancel}{\mathrm{SellerAcceptCancel}}
\newcommand{\OpRel}{\mathrm{OperatorMediateRelease}}
\newcommand{\OpRef}{\mathrm{OperatorMediateRefund}}
\newcommand{\Finalize}{\mathrm{FinalizeContract}}
\newcommand{\Timeout}{\mathrm{ContractTimeout}}
\newenvironment{transitions}{
	\begin{equation*}
		\renewcommand{\arraystretch}{1.15}
		\begin{array}{@{}l@{\quad}c@{\quad}l@{}}
}{
		\end{array}
	\end{equation*}
}
\newcommand{\tr}[3]{#1: & #2 & #3 \\}

% --- Reference style: numeric [1], [2] ---
\biboptions{numbers,sort&compress}

\journal{Blockchain: Research and Applications}

\begin{document}

\begin{frontmatter}

\title{Bit Contracts: VM-less Smart Contracts via UTXO and Stipula with Minimal Third-Party Trust}

\author[aff1]{Shinsaku Ashizawa}
\ead{phantomofrotten@gmail.com}

\address[aff1]{Department of Corporate Planning, Invers Inc., Tokyo, Japan}

\begin{abstract}
Abstract placeholder.
\end{abstract}

\begin{keyword}
Keyword1 \sep Keyword2 \sep Keyword3
\end{keyword}

\end{frontmatter}

\input{sections/01_introduction}
\input{sections/02_related_work}
\input{sections/03_problem_and_requirements}
\input{sections/04_formalization}
\input{sections/05_transaction_model}
\input{sections/06_case_study}
\input{sections/07_security_and_evaluation}
\input{sections/08_discussion_and_limitations}

\section*{Declaration of generative AI and AI-assisted technologies in the manuscript preparation process}
During the preparation of this work, the author used ChatGPT (OpenAI) to support language editing (improving readability and clarity) and to assist in organizing the manuscript text. After using this tool, the author reviewed and edited the content as needed and takes full responsibility for the content of the published article.

\section*{Declaration of Competing Interest}
Declarations of interest: none.

\input{sections/09_conclusion}

\renewcommand{\bibsection}{}
\bibliographystyle{elsarticle-num}
\bibliography{refs}

\appendix
% Ensure appendix sections render as "Appendix A." while keeping A.1, A.2 numbering.
\renewcommand{\thesection}{Appendix~\Alph{section}}
\renewcommand{\thesubsection}{\Alph{section}.\arabic{subsection}}
\renewcommand{\thesubsubsection}{\thesubsection.\arabic{subsubsection}}
\input{sections/10_appendix}

\end{document}
